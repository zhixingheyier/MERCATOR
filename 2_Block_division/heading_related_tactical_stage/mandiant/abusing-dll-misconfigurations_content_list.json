[
    {
        "title": "Persistence ",
        "content": "In this example, we will be using the Windows system utility Dism.exe discovered in the Windows System Utilities section as our executable, along with a DLL generated by DueDLLigence in conjunction with SharPersist to establish persistence on a target system. First, the DISM system utility and malicious DLL are uploaded to the target system as shown in Figure 15. \nThen we use SharPersist to add startup folder persistence, which uses our DISM system utility and associated DLL as shown in Figure 16. \nAfter the target machine has been rebooted and the targeted user has logged on, Figure 17 shows our Cobalt Strike C2 server receiving a beacon callback from our startup folder persistence where we are living in the Dism.exe process. "
    },
    {
        "title": "Lateral Movement ",
        "content": "We will continue using the same DISM system utility and DLL file for lateral movement. The HOGWARTS\\adumbledore user has administrative access to the remote host 192.168.1.101 in this example. We transfer the DISM system utility and the associated DLL file via the SMB protocol to the remote host as shown in Figure 18. \nThen we setup a SOCKS proxy in our initial beacon, and use Impacketâ€™s wmiexec.py to execute our payload via the Windows Management Instrumentation (WMI) protocol, as shown in Figure 19 and Figure 20. "
    }
]